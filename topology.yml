name: malcolm-minimal-topology

networks:
  - name: mgmt
    cidr: 10.50.10.0/24
    accessible_by_user: true
  - name: lab
    cidr: 192.168.70.0/24
    accessible_by_user: true

nodes:
  - name: malcolm-host
    base_box:
      image: ubuntu-22-image     # <-- REPLACE med image i din pool
      mgmt_user: admin
      mgmt_protocol: ssh
    flavor: large                # anbefalt for Malcolm (juster etter behov)
    networks:
      - mgmt
    provisioning:
      playbook: provisioning/provision_malcolm.yml
    monitor_groups:
      - monitor-os

  - name: attacker-vm
    base_box:
      image: ubuntu-22-image
      mgmt_user: attacker
      mgmt_protocol: ssh
    flavor: small
    networks:
      - lab
    provisioning:
      playbook: provisioning/provision_attacker.yml
    monitor_groups:
      - monitor-os

  - name: victim-vm
    base_box:
      image: ubuntu-22-image
      mgmt_user: trainee
      mgmt_protocol: ssh
    flavor: small
    networks:
      - lab
    provisioning:
      playbook: provisioning/provision_victim.yml
    monitor_groups:
      - monitor-os
