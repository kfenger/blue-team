# topology.yml
# Minimal Blue Team topology for CyberRangeCZ
# Two nodes: siem-host (Ubuntu) and endpoint-1 (Ubuntu)
# Edit image names to match your Image Pool IDs before use.

name: blue-minimal-topology
description: "Minimal blue-team lab: SIEM + 1 endpoint (for training). Keep minimal per docs."
networks:
  - id: net-mgmt
    name: mgmt
    cidr: 10.20.10.0/24
  - id: net-corp
    name: corp
    cidr: 192.168.50.0/24

hosts:
  - name: siem-host
    base_box:
      # <-- REPLACE image: with the exact image-id/name from your Image Pool
      image: debian-12-x86_64	
      mgmt_user: admin
      mgmt_protocol: ssh
    flavor: medium
    networks:
      - net-mgmt
    provisioning:
      playbook: provisioning/provision_siem.yml
    monitor_groups:
      - monitor-os

  - name: endpoint-1
    base_box:
      image: debian-12-x86_64	
      mgmt_user: trainee
      mgmt_protocol: ssh
    flavor: small
    networks:
      - net-corp
    provisioning:
      playbook: provisioning/provision_endpoint.yml
    monitor_groups:
      - monitor-os

routing:
  - src: net-corp
    dst: net-mgmt
    allow: true
  - src: net-mgmt
    dst: net-corp
    allow: true
